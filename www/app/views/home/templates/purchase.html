<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> purchase </title>
	<style type="text/css">
		.purchase_bodyer {
			background-image: url(././img/images/bg_img.png);
		}
		.arrow_Down_White {
			background-image: url(././img/images/arrow_Down_White.png);
		}
		.arrow_Left_White {
			background-image: url(././img/images/arrow_Left_White.png);
		}
		.btn_modify_Group {
			background-image: url(././img/images/modify_Group.png);
		}
		.search_type_black {
			background-image: url(././img/images/search_small_black.png);
		}
		.back_Icon {
			background-image: url(././img/images/back_icon.png);
		}
	</style>
	<link rel="stylesheet" href="././css/lCalendar.css">
	<script src='app/core/lib/lCalendar.min.js'></script>
	<script src='app/core/lib/lCalendar.js'></script>

	<script src='app/core/lib/jquery.min.js'></script>
</head>
<body>
<div id="loadingContainer" style="width: 100vw;height: 100vh;background-color:#999;filter:alpha(opacity=50);
 					-moz-opacity:0.5;opacity:0.5;position:absolute;left:0px;top:0px;display:none;z-index:1000; ">
	<div style="width: 100vw; height: 100vh; position: absolute; left: 0px; top: 0px; z-index: 1000;">
		<div style="background-color:#111;width: 150px;height: 150px;margin-left: auto;margin-right: auto;margin-top: calc(100% - 150px);border-radius:25px;">
			<div style="width:48px;height:48px;margin-right: auto;margin-left: auto;padding-top: 30px;">
				<img style="background-color: transparent;" src="././img/images/loading3.gif"/>
				<br/><br/>
				<span style="color:#eee;font-size:12px;">请稍候...</span>
			</div>

		</div>
	</div>
</div>

<!--采购申请页面-->
<div id="busyAllContent" style="display: block;">
	<link rel="stylesheet" href="././css/purchase.css">
	<div class="purchase_header">
		<div class="left_Box">
		</div>
		<div class="center_Box">
			<div class="center_Title">采购申请</div>
		</div>
		<div class="right_Box">
		</div>
	</div>
	<div class="purchase_bodyer">
		<div class="big_Type_Group">
			<div>
				<div class="small_Type_Title_Group" ng-click="showBaseInfo();">
					<div class="small_Type_Title_G"> 基本信息</div>
					<!-- 切换收缩开关arrow_Down_White / arrow_Left_White -->
					<div class="OpenClose_Btn arrow_Down_White" id="baseInfoImg"></div>
				</div>
				<div id="baseBugInfo">
					<div class="small_Type_Group">
						<div class="line_two">
							<div class="small_Type_Title"> 采购类型:</div>
							<div class="small_Type_Box">
								<select id="recordTypeList">
									<option ng-repeat="recordTypeItem in recordTypes" value="{{recordTypeItem.value}}">{{recordTypeItem.label}}</option>
								</select>
							</div>
						</div>
						<div class="line_two">
							<div class="small_Type_Title"> 计划日期:</div>
							<div class="small_Type_Box">
								<input id="planDate" type="text" readonly style="text-align:center" name="input_date" placeholder="日期选择" data-lcalendar="2011-01-1,2030-12-31" />
							</div>
						</div>
					</div>
					<div class="small_Type_Group">
						<div class="line_two_65">
							<div class="search_Type_Box" ng-click="searchForBusiness();">
								<input class="search_Type_Input" placeholder="供应商编号/供应商名称" value="{{chooseItem.Name}}" disabled="disabled"/>
								<!--<div class="search_type_black"></div>-->
							</div>
						</div>
						<div class="line_two_35" ng-click="showBusinessInfo();">
							<div class="supplier_Inf_Btn">
								供应商信息
							</div>
							<div class="arrow_Down_White" id="businessInfoImg"></div>
						</div>
					</div>
					<!-- 两种状态，填写和只读 -->
					<!--<div class="readonly_supplier_Inf" >-->
					<!--<div class="inf_Box">-->
					<!--<div class="inf_Left_Text"> 供应商地址：</div><div class="inf_Right_Text"> </div>-->
					<!--</div>-->
					<!--<div class="inf_Box">-->
					<!--<div class="inf_Left_Text"> 供应商邮编：</div><div class="inf_Right_Text"></div>-->
					<!--</div>-->
					<!--<div class="inf_Box">-->
					<!--<div class="inf_Left_Text"> 电话：</div><div class="inf_Right_Text"></div>-->
					<!--</div>-->
					<!--<div class="inf_Box">-->
					<!--<div class="inf_Left_Text"> 传真：</div><div class="inf_Right_Text"></div>-->
					<!--</div>-->
					<!--</div>-->
					<div class="edit_supplier_Inf" id="businessBox">
						<div class="small_Type_Group">
							<div class="small_Type_Title">供应商地址:</div>
							<div class="small_Type_Box">
								<input class="small_Type_Input_80" ng-cloak value="{{chooseItem.Province__c}}" readonly/>
								<span class="small_Type_Span">（省份）</span>
								<input class="small_Type_Input_80" ng-cloak value="{{chooseItem.City__c}}" readonly/>
								<span class="small_Type_Span">（城市）</span>
								<input class="small_Type_Input" ng-cloak value="{{chooseItem.Address__c}}" readonly/>
							</div>
						</div>
						<div class="small_Type_Group">
							<div class="small_Type_Title">供应商邮编:</div>
							<div class="small_Type_Box">
								<input class="small_Type_Input" ng-cloak value="{{chooseItem.Post_Code__c}}" readonly/>
							</div>
						</div>
						<div class="small_Type_Group">
							<div class="line_two">
								<div class="small_Type_Title"> 电话:</div>
								<div class="small_Type_Box">
									<input class="small_Type_Input_95" ng-cloak value="{{chooseItem.Telephone__c}}" readonly/>
								</div>
							</div>
							<div class="line_two">
								<div class="small_Type_Title"> 传真:</div>
								<div class="small_Type_Box">
									<input class="small_Type_Input_95" ng-cloak value="{{chooseItem.FAX__c}}"  readonly/>
								</div>
							</div>
						</div>
					</div>
					<div class="small_Type_Group">
						<div class="small_Type_Title">采购描述:</div>
						<div class="small_Type_Box">
							<textarea id="purchaseDesc" class="small_Type_Textarea"></textarea>
						</div>
					</div>
					<div class="small_Type_Group">
						<div class="line_two">
							<div class="small_Type_Title"> 服务单:</div>
							<div class="small_Type_Box" ng-click="searchForWorkOrder();">
								<input class="small_Type_Input_95" placeholder="服务单" value="{{chooseWorkOrder.Name}}" disabled="disabled"/>
							</div>
						</div>
						<div class="line_two">
							<div class="small_Type_Title"> 状态:</div>
							<div class="small_Type_Box">
								<select class="small_Type_Select_Status" id="statusList">
									<option ng-repeat="statusItem in statuses" ng-cloak value="{{statusItem.value}}">{{statusItem.label}}</option>
								</select>
							</div>
						</div>
					</div>
					<div class="small_Type_Group">
						<div class="small_Type_Title"> 税率:</div>
						<div class="small_Type_Box">
							<select class="small_Type_Select" id="taxList">
								<option ng-repeat="taxItem in Taxes" ng-cloak value="{{taxItem.label}}">{{taxItem.value}}</option>
							</select>
						</div>
					</div>
					<div class="small_Type_Group">
						<div class="line_three">
							<div class="small_Type_Title"> 订单收入(含税):</div>
							<div class="small_Type_Box">
								<input class="small_Type_Input_90" id="revenue" ng-model="revenue" value="{{revenue}}" ng-change="countProfitRates();"/>
							</div>
						</div>
						<div class="line_three">
							<div class="small_Type_Title"> 采购价格(含税):</div>
							<div class="small_Type_Box">
								<input class="small_Type_Input_90" id="priceEach" ng-model="priceEach" value="{{priceEach}}" ng-change="countProfitRates();"/>
							</div>
						</div>
						<div class="line_three">
							<div class="small_Type_Title"> 利润率:</div>
							<div class="small_Type_Box">
								<input class="small_Type_Input_90" id="profit" value="{{profitRate}}％" readonly/>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div>
				<div class="small_Type_Title_Group">
					<div class="small_Type_Title_G_2"> 物料信息</div>
					<!-- 点击btn_M,添加click_Style -->
					<div class="btn_M" ng-click="addOrDelMaterial()">
						<div class="btn_modify_Group"></div>
					</div>
					<div class="btn_modify_Div to_Hide" id="materialAddBox">
						<div class="Modify_Btn" ng-click="showMaterialPage();"> 添加</div>
						<div class="Modify_Btn" ng-click="deleteSelectMatelials();"> 删除</div>
					</div>
					<!-- 切换收缩开关arrow_Down_White / arrow_Left_White -->
					<div class="OpenClose_Btn arrow_Down_White" id="materialImg"  ng-click="showMaterialInfo();"></div>
				</div>
				<div id="materialContent">
					<div>
						<table cellpadding="0" cellspacing="0" border="0" class="material_Inf_Table">
							<tr>
								<th class="sv_Td">
									<input type="checkbox" id="selectMaterialCheck" class="sv_checkbox" ng-click="selectAllMaterial();"/>
								</th>
								<th class="sv_Td">
									<div> 编号</div>
								</th>
								<th class="sv_Td">
									<div> 数量</div>
								</th>
								<th class="sv_Td">
									<div> 描述/ 工厂</div>
								</th>
								<th class="sv_Td">
									<div> 价格</div>
								</th>
								<th class="sv_Td">
									<div> 售价</div>
								</th>
							</tr>
							<tr ng-repeat="chooseMaterial in chooseMaterials" ng-cloak>
								<td class="sv_Td">
									<input type="checkbox" class="sv_checkboxItem"/>
								</td>
								<td class="sv_Td">
									<input class="sv_Input" ng-model="chooseMaterial.parts_number__c"  ng-cloak value="{{chooseMaterial.parts_number__c}}"/>
								</td>
								<td class="sv_Td">
									<input class="sv_Input_Quantity" type="number" ng-model="chooseMaterial.Required_Quantity__c" ng-cloak value="{{chooseMaterial.Required_Quantity__c}}"/>
								</td>
								<td class="sv_Td">
									<input class="sv_Input"  ng-cloak value="{{chooseMaterial.Item_Description__c}}" readonly/><br/>
									<input class="sv_Input"  ng-cloak value="{{chooseMaterial.Factory__c}}"readonly/>
								</td>
								<td class="sv_Td">
									<input class="sv_Input" type="number" ng-model="chooseMaterial.Unite_Price__c" ng-cloak value="{{chooseMaterial.Unite_Price__c}}"/>
								</td>
								<td class="sv_Td">
									<input class="sv_Input" type="number" ng-model="chooseMaterial.Selling_Price__c" ng-cloak value="{{chooseMaterial.Selling_Price__c}}"/>
								</td>
							</tr>
						</table>
					</div>
				</div>
				<div class="small_Type_Group">
					<div class="small_Type_Title">采购备注:</div>
					<div class="small_Type_Box">
						<textarea class="small_Type_Textarea" id="purchaseMore"></textarea>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="footer">
		<div class="footer_Btn" ng-click="goBack();">取消</div>
		<div class="footer_Btn submit_Btn" ng-click="goSavePurChase();">提交</div>
	</div>
</div>
<!--供应商编号／供应商名称 查询-->
<div id="serachBusinessContent" style="display: none;">
	<link rel="stylesheet" href="././css/serachBusiness.css">
	<div class="header2">
		<div class="left_Box" ng-click="showContentHideBusiness();">
			<div class="back_Icon"></div>
		</div>
		<div class="search_All" >
			<input type="text" id="searchBig" placeholder="搜索" class="search_Input" />
			<!--<div class="search_Photo_Icon"></div>-->
		</div>
		<div class="search_right_Group" ng-click="searchBusinessByNameAndId();">
			<div class="text_Cancel"> 搜索 </div>
		</div>
	</div>
	<div class="bodyer_nofooter search_bodyer" style="background-color: white;">
		<div class="big_Box_Group">
			<div class="small_Box_Title"> 查询供应商 </div>
			<ion-list can-swipe="true">
				<ion-item  class="small_Box_Text" ng-repeat="busyItem in allBusinesses" ng-cloak ng-click="chooseCurrentBusy(busyItem);">
					{{busyItem.Supplier_Name__c}}
				</ion-item>
			</ion-list>
		</div>
	</div>
</div>
<!--物料查询页面-->
<div id="serachMaterialContent" style="display: none;">
	<link rel="stylesheet" href="././css/serachMaterial.css">
	<div class="header2">
		<div class="left_Box" ng-click="showContentHideMaterial();">
			<div class="back_Icon"></div>
		</div>
		<div class="search_All" >
			<input type="text" id="searchBig2" placeholder="搜索" class="search_Input" />
			<!--<div class="search_Photo_Icon"></div>-->
		</div>
		<div class="search_right_Group" ng-click="searchMaterilaByName();">
			<div class="text_Cancel"> 搜索 </div>
		</div>
	</div>
	<div class="bodyer_nofooter search_bodyer" style="background-color: white;">
		<div class="big_Box_Group">
			<div class="small_Box_Title"> 查询物料 </div>
			<ion-list can-swipe="true">
				<ion-item  class="small_Box_Text" ng-repeat="materialItem in allMaterial" ng-click="chooseCurrentMaterial(materialItem);">
					{{materialItem.Name}}
				</ion-item>
			</ion-list>
		</div>
	</div>
</div>

<div id="serachWorkOrderContent" style="display: none;">
	<link rel="stylesheet" href="././css/serachBusiness.css">
	<div class="header2">
		<div class="left_Box" ng-click="showContentHideWorkOrder();">
			<div class="back_Icon"></div>
		</div>
		<div class="search_All" >
			<input type="text" id="searchBig3" placeholder="搜索" class="search_Input" />
			<!--<div class="search_Photo_Icon"></div>-->
		</div>
		<div class="search_right_Group" ng-click="searchWorkOrderByNameAndId();">
			<div class="text_Cancel"> 搜索 </div>
		</div>
	</div>
	<div class="bodyer_nofooter search_bodyer" style="background-color: white;">
		<div class="big_Box_Group">
			<div class="small_Box_Title"> 查询工单 </div>
			<ion-list can-swipe="true">
				<ion-item  class="small_Box_Text" ng-repeat="workOrder in allWorkOrders" ng-cloak ng-click="chooseCurrentWorkOrder(workOrder);">
					{{workOrder.Name}}
				</ion-item>
			</ion-list>
		</div>
	</div>
</div>
</body>
</html>

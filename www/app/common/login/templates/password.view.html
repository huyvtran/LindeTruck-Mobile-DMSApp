<!--SET PASSWORD && SECURITY QUESTION STANDARD VIEW-->
<ion-view can-swipe-back="false" view-title="Set Password" ng-init="vm.loadUserNameFromCache()">
	<ion-content class="local-login {{vm.themeClass}} scroll-content" >
		<div class="slds-grid slds-grid--align-center">
			<div class="slds-size--1-of-1 slds-medium-size--6-of-12">

				<!-- LOGO -->
				<div class="slds-grid">
					<div class="flex-claim"></div>
				</div>

				<!-- INTRO TEXT -->
				<div class="slds-grid row-border row-padding row-padding-bottomLong">
					<span class="slds-size--1-of-12 ion-ios-person-outline o-login-user-color"> </span>
					<label class="slds-col o-login-user-color o-login-fontsize slds-truncate">{{vm.user.Username}}</label>
				</div>

				<!-- PASSWORD INPUTS -->
				<div class="slds-grid row-border row-padding row-padding-bottomShort">
					<span class="slds-size--1-of-12 ion-ios-locked-outline o-login-user-color">  </span>
					<input class="slds-col pwd-color item-no-border o-login-fontsize o-login-input-background"
						   type="password"
						   placeholder="{{'cl.loginInteraction.lb_password' | translate}}"
						   ng-model="password">
				</div>
				<div class="slds-grid row-border row-padding row-padding-bottomShort">
					<span class="slds-size--1-of-12 ion-ios-checkmark-outline o-login-user-color">  </span>
					<input class="slds-col pwd-color item-no-border o-login-fontsize o-login-input-background"
						   type="password"
						   placeholder="{{'cl.loginInteraction.lb_confirm_password' | translate}}"
						   ng-model="confirmPassword">
				</div>

				<!-- ERROR MESSAGES -->
				<div class="slds-grid">
					<label class="slds-col item-no-border" ng-show="confirmFailure">
						<span class="assertive" >{{errorMsg}}</span>
					</label>
				</div>

				<!--User Question-->
				<div class="slds-grid row-border row-padding row-padding-bottomShort" style="padding-top: 10px;">
					<span class="slds-size--1-of-12 ion-ios-help-outline o-login-user-color" style="padding-top: 5px;"></span>
					<label class="slds-size--11-of-12 item-select item-no-border pwd-color questionsSelect o-login-input-background">
						<select name="questionSelect"  ng-model="userQuestion" class="o-login-fontsize">
							<option disabled selected style="display: none;" value=""> {{'cl.loginInteraction.lb_choose' | translate}}</option>
							<option ng-repeat="(key, question) in passwordQuestions" value="{{key}}">
								{{'cl.loginInteraction.passwordQuestions.' + key | translate}}
							</option>
						</select>
					</label>
				</div>

				<!-- ANSWER INPUT -->
				<div class="slds-grid row-border row-padding row-padding-bottomLong">
					<span class="slds-size--1-of-12 ion-ios-checkmark-outline o-login-user-color"></span>
					<input class="slds-col pwd-color item-no-border o-login-fontsize o-login-input-background"
						   type="text"
						   placeholder="{{'cl.loginInteraction.lb_set_answer' | translate}}"
						   ng-model="userAnswer">
				</div>

				<div class="slds-grid">
					<!-- ERROR MESSAGES -->
					<label class="item" ng-show="confirmQuestionFailure">
						<span class="assertive">{{questionErrorMsg}}</span>
					</label>
				</div>

				<!-- HELPTEXT BUTTON -->
				<div class="slds-grid slds-grid--align-spread">
					<a class="button button-left o-button-dark-grey" style="text-decoration: underline" ng-click="vm.helpHint()">
						{{'cl.loginInteraction.btn_help' | translate}}
					</a>
				</div>

				<!-- DATA SUBMIT -->
				<div class="slds-grid ">
					<button class="slds-col button button-block o-button-blue"
							ng-click="vm.dataSubmit(password, confirmPassword, userQuestion, userAnswer)">
						{{'cl.loginInteraction.btn_confirm' | translate}}
					</button>
				</div>
			</div>
		</div>
	</ion-content>
</ion-view>
